{% extends "layout.html" %}
{% block content %}

<h2 style="margin-top: 20px;">ğŸ“Š è´¢åŠ¡æŠ¥è¡¨</h2>

<form method="get" action="/report" style="margin-top: 20px; display: flex; align-items: center; gap: 10px;">
  <label for="start_date" style="font-weight: bold;">æ—¥æœŸèŒƒå›´ï¼š</label>
  <input type="date" id="start_date" name="start_date" value="{{ start_date }}" style="padding: 5px;">
  <input type="date" id="end_date" name="end_date" value="{{ end_date }}" style="padding: 5px;">
  <button type="submit" style="padding: 6px 14px; font-size: 14px;">æŸ¥æ‰¾</button>
</form>

<table border="1" cellpadding="10" cellspacing="0" style="margin-top: 25px; border-collapse: collapse; width: 100%; text-align: center;">
  <thead style="background-color: #f4f4f4; font-weight: bold;">
    <tr>
      <th>ä»£ç†è´¦å·</th>
      <th>è¥ä¸šé¢</th>
      <th>ä½£é‡‘</th>
      <th>ä¸­å¥–é‡‘é¢</th>
      <th>æ€»æ•°</th>
    </tr>
  </thead>
  <tbody>
    {% for agent in report_data %}
    <tr>
      <td>{{ agent.username }}</td>
      <td>RM {{ "{:,.2f}".format(agent.sales) }}</td>
      <td>RM {{ "{:,.2f}".format(agent.commission) }}</td>
      <td>RM {{ "{:,.2f}".format(agent.win_amount) }}</td>
      <td>RM {{ "{:,.2f}".format(agent.net) }}</td>
    </tr>
    {% endfor %}
    {% if report_data|length == 0 %}
    <tr>
      <td colspan="5" style="padding: 15px; color: #666;">æ— æ•°æ®</td>
    </tr>
    {% endif %}
  </tbody>
</table>

{% endblock %}
